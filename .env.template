# ML Evaluation Platform - Environment Variables Template
# Copy this file to .env.local for local development
# Do not commit .env.local to version control

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, staging, production, testing)
ENVIRONMENT=development

# Application settings
APP_NAME="ML Evaluation Platform"
APP_VERSION=1.0.0
APP_DESCRIPTION="ML Evaluation Platform for Object Detection and Segmentation"
DEBUG=false
TESTING=false

# Server configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# URLs and networking
BACKEND_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
API_VERSION=v1

# Request settings
REQUEST_TIMEOUT=300
MAX_REQUEST_SIZE=104857600  # 100MB

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Main application secret key (REQUIRED - generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
SECRET_KEY=your-secret-key-here-replace-in-production

# JWT settings (optional)
JWT_SECRET=
JWT_ALGORITHM=HS256
JWT_EXPIRATION_SECONDS=3600

# API security
API_KEY_HEADER=X-API-Key
ADMIN_API_KEYS=

# CORS settings (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_METHODS=*
CORS_HEADERS=*

# Rate limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=3600

# Encryption (optional)
ENCRYPTION_KEY=

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Primary PostgreSQL database URL (REQUIRED)
DATABASE_URL=postgresql://user:password@localhost:5432/ml_eval_platform

# Database pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=1


# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis URL for Celery and caching (REQUIRED)
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TIMEOUT=30
REDIS_MAX_CONNECTIONS=50

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Celery broker and result backend
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Task settings
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC

# Worker settings
CELERY_WORKER_CONCURRENCY=2
CELERY_WORKER_MAX_TASKS=1000
CELERY_WORKER_PREFETCH=1

# Monitoring
FLOWER_PORT=5555
FLOWER_AUTH=

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================

# Local storage paths
MODEL_STORAGE_PATH=/app/models
IMAGE_STORAGE_PATH=/app/images
DATASET_STORAGE_PATH=/app/datasets
TEMP_STORAGE_PATH=/app/temp

# Upload settings
UPLOAD_MAX_SIZE=1073741824  # 1GB
UPLOAD_ALLOWED_EXTENSIONS=.jpg,.jpeg,.png,.bmp,.tiff,.tif,.webp

# Google Cloud Storage (optional)
USE_GCS=false
GCS_BUCKET_NAME=
GCS_PROJECT_ID=
GCS_CREDENTIALS_PATH=

# Storage cleanup
TEMP_FILE_TTL=3600
STORAGE_CLEANUP_ENABLED=true

# =============================================================================
# MACHINE LEARNING CONFIGURATION
# =============================================================================

# GPU and CUDA settings
CUDA_VISIBLE_DEVICES=0
TORCH_HOME=/app/.torch
USE_GPU=true
GPU_MEMORY_FRACTION=0.8

# Model settings
DEFAULT_MODEL_TYPE=yolo11n
MODEL_CACHE_SIZE=5
MODEL_TIMEOUT_SECONDS=300

# Training settings
DEFAULT_EPOCHS=100
DEFAULT_BATCH_SIZE=16
DEFAULT_LEARNING_RATE=0.01
MAX_TRAINING_JOBS=2

# Inference settings
INFERENCE_BATCH_SIZE=32
MAX_INFERENCE_JOBS=5
INFERENCE_TIMEOUT_SECONDS=600

# Evaluation settings
EVALUATION_METRICS=mAP,mAP50,precision,recall,f1
CONFIDENCE_THRESHOLD=0.25
IOU_THRESHOLD=0.5

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO
STRUCTURED_LOGGING=true
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# File logging (optional)
LOG_FILE_ENABLED=false
LOG_FILE_PATH=
LOG_FILE_MAX_SIZE=10485760  # 10MB
LOG_FILE_BACKUP_COUNT=5

# External logging services (optional)
SENTRY_DSN=
DATADOG_API_KEY=

# =============================================================================
# GOOGLE CLOUD PLATFORM CONFIGURATION
# =============================================================================

# GCP project settings
GCP_PROJECT_ID=
GCP_REGION=us-central1
GCP_ZONE=us-central1-a

# Authentication
GOOGLE_APPLICATION_CREDENTIALS=
GCP_SERVICE_ACCOUNT_EMAIL=

# Cloud Run settings
CLOUD_RUN_SERVICE_NAME=
CLOUD_RUN_MEMORY=2Gi
CLOUD_RUN_CPU=2
CLOUD_RUN_MAX_INSTANCES=10
CLOUD_RUN_MIN_INSTANCES=0

# Secret Manager
USE_SECRET_MANAGER=false
SECRET_MANAGER_PROJECT=

# Cloud Storage
GCP_STORAGE_BUCKET=

# AI Platform
AI_PLATFORM_REGION=us-central1

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable/disable major features
ENABLE_TRAINING=true
ENABLE_INFERENCE=true
ENABLE_EVALUATION=true
ENABLE_DEPLOYMENT=true
ENABLE_MONITORING=true

# =============================================================================
# FRONTEND CONFIGURATION (Next.js)
# =============================================================================

# Public environment variables (accessible in browser)
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000
NEXT_PUBLIC_APP_NAME="ML Evaluation Platform"
NEXT_PUBLIC_APP_VERSION=1.0.0

# =============================================================================
# DEVELOPMENT TOOLS
# =============================================================================

# Development and debugging
RELOAD_ON_CHANGE=true
ENABLE_DOCS=true
ENABLE_REDOC=true
ENABLE_OPENAPI=true

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10

# Metrics and monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=false

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Backup settings
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# Maintenance
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="System maintenance in progress"